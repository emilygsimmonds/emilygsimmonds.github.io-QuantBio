<!DOCTYPE html>

<html>

<head>

<meta charset="utf-8" />
<meta name="generator" content="pandoc" />
<meta http-equiv="X-UA-Compatible" content="IE=EDGE" />


<meta name="author" content="Mette Langaas and Martina Hall, Department of Mathematical Sciences, NTNU. Editted by Emily Simmonds" />


<title>Rbeginner: R and RStudio – a first tour</title>

<script src="site_libs/jquery-1.11.3/jquery.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="site_libs/bootstrap-3.3.5/css/cosmo.min.css" rel="stylesheet" />
<script src="site_libs/bootstrap-3.3.5/js/bootstrap.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/html5shiv.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/respond.min.js"></script>
<script src="site_libs/navigation-1.1/tabsets.js"></script>
<link href="site_libs/highlightjs-9.12.0/default.css" rel="stylesheet" />
<script src="site_libs/highlightjs-9.12.0/highlight.js"></script>
<link href="site_libs/font-awesome-5.1.0/css/all.css" rel="stylesheet" />
<link href="site_libs/font-awesome-5.1.0/css/v4-shims.css" rel="stylesheet" />

<style type="text/css">code{white-space: pre;}</style>
<style type="text/css">
  pre:not([class]) {
    background-color: white;
  }
</style>
<script type="text/javascript">
if (window.hljs) {
  hljs.configure({languages: []});
  hljs.initHighlightingOnLoad();
  if (document.readyState && document.readyState === "complete") {
    window.setTimeout(function() { hljs.initHighlighting(); }, 0);
  }
}
</script>



<style type="text/css">
h1 {
  font-size: 34px;
}
h1.title {
  font-size: 38px;
}
h2 {
  font-size: 30px;
}
h3 {
  font-size: 24px;
}
h4 {
  font-size: 18px;
}
h5 {
  font-size: 16px;
}
h6 {
  font-size: 12px;
}
.table th:not([align]) {
  text-align: left;
}
</style>




<style type = "text/css">
.main-container {
  max-width: 940px;
  margin-left: auto;
  margin-right: auto;
}
code {
  color: inherit;
  background-color: rgba(0, 0, 0, 0.04);
}
img {
  max-width:100%;
}
.tabbed-pane {
  padding-top: 12px;
}
.html-widget {
  margin-bottom: 20px;
}
button.code-folding-btn:focus {
  outline: none;
}
summary {
  display: list-item;
}
</style>


<style type="text/css">
/* padding for bootstrap navbar */
body {
  padding-top: 51px;
  padding-bottom: 40px;
}
/* offset scroll position for anchor links (for fixed navbar)  */
.section h1 {
  padding-top: 56px;
  margin-top: -56px;
}
.section h2 {
  padding-top: 56px;
  margin-top: -56px;
}
.section h3 {
  padding-top: 56px;
  margin-top: -56px;
}
.section h4 {
  padding-top: 56px;
  margin-top: -56px;
}
.section h5 {
  padding-top: 56px;
  margin-top: -56px;
}
.section h6 {
  padding-top: 56px;
  margin-top: -56px;
}
.dropdown-submenu {
  position: relative;
}
.dropdown-submenu>.dropdown-menu {
  top: 0;
  left: 100%;
  margin-top: -6px;
  margin-left: -1px;
  border-radius: 0 6px 6px 6px;
}
.dropdown-submenu:hover>.dropdown-menu {
  display: block;
}
.dropdown-submenu>a:after {
  display: block;
  content: " ";
  float: right;
  width: 0;
  height: 0;
  border-color: transparent;
  border-style: solid;
  border-width: 5px 0 5px 5px;
  border-left-color: #cccccc;
  margin-top: 5px;
  margin-right: -10px;
}
.dropdown-submenu:hover>a:after {
  border-left-color: #ffffff;
}
.dropdown-submenu.pull-left {
  float: none;
}
.dropdown-submenu.pull-left>.dropdown-menu {
  left: -100%;
  margin-left: 10px;
  border-radius: 6px 0 6px 6px;
}
</style>

<script>
// manage active state of menu based on current page
$(document).ready(function () {
  // active menu anchor
  href = window.location.pathname
  href = href.substr(href.lastIndexOf('/') + 1)
  if (href === "")
    href = "index.html";
  var menuAnchor = $('a[href="' + href + '"]');

  // mark it active
  menuAnchor.parent().addClass('active');

  // if it's got a parent navbar menu mark it active as well
  menuAnchor.closest('li.dropdown').addClass('active');
});
</script>

<!-- tabsets -->

<style type="text/css">
.tabset-dropdown > .nav-tabs {
  display: inline-table;
  max-height: 500px;
  min-height: 44px;
  overflow-y: auto;
  background: white;
  border: 1px solid #ddd;
  border-radius: 4px;
}

.tabset-dropdown > .nav-tabs > li.active:before {
  content: "";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li.active:before {
  content: "&#xe258;";
  border: none;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open:before {
  content: "";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs > li.active {
  display: block;
}

.tabset-dropdown > .nav-tabs > li > a,
.tabset-dropdown > .nav-tabs > li > a:focus,
.tabset-dropdown > .nav-tabs > li > a:hover {
  border: none;
  display: inline-block;
  border-radius: 4px;
  background-color: transparent;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li {
  display: block;
  float: none;
}

.tabset-dropdown > .nav-tabs > li {
  display: none;
}
</style>

<!-- code folding -->



<style type="text/css">

#TOC {
  margin: 25px 0px 20px 0px;
}
@media (max-width: 768px) {
#TOC {
  position: relative;
  width: 100%;
}
}

@media print {
#TOC {
  display: none !important;
}
.toc-content {
  /* see https://github.com/w3c/csswg-drafts/issues/4434 */
  float: right;
}
}

.toc-content {
  padding-left: 30px;
  padding-right: 40px;
}

div.main-container {
  max-width: 1200px;
}

div.tocify {
  width: 20%;
  max-width: 260px;
  max-height: 85%;
}

@media (min-width: 768px) and (max-width: 991px) {
  div.tocify {
    width: 25%;
  }
}

@media (max-width: 767px) {
  div.tocify {
    width: 100%;
    max-width: none;
  }
}

.tocify ul, .tocify li {
  line-height: 20px;
}

.tocify-subheader .tocify-item {
  font-size: 0.90em;
}

.tocify .list-group-item {
  border-radius: 0px;
}

.tocify-subheader {
  display: inline;
}
.tocify-subheader .tocify-item {
  font-size: 0.95em;
}

</style>



</head>

<body>


<div class="container-fluid main-container">


<!-- setup 3col/9col grid for toc_float and main content  -->
<div class="row-fluid">
<div class="col-xs-12 col-sm-4 col-md-3">
<div id="TOC" class="tocify">
</div>
</div>

<div class="toc-content col-xs-12 col-sm-8 col-md-9">




<div class="navbar navbar-default  navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="index.html">HOME</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    The basics
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li class="dropdown-header">Introductions</li>
    <li class="divider"></li>
    <li>
      <a href="What_is_statistics.html">What is statistics?</a>
    </li>
    <li>
      <a href="Quantitative_methods_in_biology.html">Quantitative methods in biology</a>
    </li>
    <li class="divider"></li>
    <li class="dropdown-header">All about data</li>
    <li class="divider"></li>
    <li>
      <a href="Types_of_data.html">Types of data</a>
    </li>
    <li>
      <a href="Data_visualisation.html">Data visualisation</a>
    </li>
    <li>
      <a href="Describing_data.html">Describing data</a>
    </li>
    <li class="divider"></li>
    <li class="dropdown-header">General statistical theory</li>
    <li class="divider"></li>
    <li>
      <a href="Describing_data.html">Probability</a>
    </li>
    <li>
      <a href="Describing_data.html">Random variables</a>
    </li>
    <li>
      <a href="Describing_data.html">Hypothesis testing</a>
    </li>
    <li>
      <a href="Describing_data.html">Statistical modelling</a>
    </li>
    <li>
      <a href="Describing_data.html">Parameter estimation</a>
    </li>
    <li>
      <a href="Describing_data.html">Uncertainty</a>
    </li>
  </ul>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    R
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li class="dropdown-header">Introductions</li>
    <li class="divider"></li>
    <li>
      <a href="R_tutorial.html">General intro</a>
    </li>
    <li>
      <a href="R_tutorial.html">Errors and warnings</a>
    </li>
    <li>
      <a href="R_tutorial.html">Finding help</a>
    </li>
    <li class="divider"></li>
    <li>
      <a href="R_tutorial.html">Plotting</a>
    </li>
    <li>
      <a href="R_tutorial.html">Data management</a>
    </li>
    <li class="divider"></li>
    <li class="dropdown-header">Advanced</li>
    <li class="divider"></li>
    <li>
      <a href="R_tutorial.html">for loops</a>
    </li>
    <li>
      <a href="R_tutorial.html">Writing functions</a>
    </li>
    <li>
      <a href="R_tutorial.html">Tips and tricks</a>
    </li>
  </ul>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Analyses
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li class="dropdown-header">For frequencies and probailities</li>
    <li class="divider"></li>
    <li class="dropdown-header">For categorical explanatory variables</li>
    <li class="divider"></li>
    <li>
      <a href="Example_analysis.html">Example</a>
    </li>
    <li class="divider"></li>
    <li class="dropdown-header">For numeric explanatory variables</li>
    <li class="divider"></li>
    <li class="dropdown-header">For mixed explanatory variables</li>
    <li class="divider"></li>
    <li class="dropdown-header">For non-normal error</li>
    <li class="divider"></li>
  </ul>
</li>
<li>
  <a href="index.html">Glossary</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/emilygsimmonds/QuantBio/tree/gh-pages">
    <span class="fa fa-github"></span>
     
  </a>
</li>
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

<div class="fluid-row" id="header">



<h1 class="title toc-ignore">Rbeginner: R and RStudio – a first tour</h1>
<h3 class="subtitle">ST2304 Statistical modelling for Biologists and Biotechnologists V2020</h3>
<h4 class="author">Mette Langaas and Martina Hall, Department of Mathematical Sciences, NTNU. Editted by Emily Simmonds</h4>
<h4 class="date">week 1, 2020</h4>

</div>


<div id="instructions" class="section level2">
<h2>Instructions:</h2>
<p>Read through each part of the document when directed to by the lecturer</p>
<p><em>Hints and reminders are italic</em></p>
<p><span style="color:blue"> Tasks appear in blue. </span></p>
<p>(Latest changes: 06.01.2020: first version for 2019)</p>
</div>
<div id="part-a-downloading-r-and-rstudio-and-getting-started" class="section level1">
<h1>Part A: Downloading R and RStudio and getting started</h1>
<p><span style="color:blue"> Download and install R and RStudio. </span></p>
<p><img src="R_logo.jpeg" /></p>
<p>R is a free software environment for statistical computing and graphics. It runs on a wide variety of UNIX platforms, Windows and MacOS. R can be downloaded from <a href="http://www.r-project.org/" class="uri">http://www.r-project.org/</a>.</p>
<p><img src="RStudio_logo.jpeg" /></p>
<p>We recommend that you run R using RStudio. RStudio can be downloaded from <a href="https://rstudio.com/products/rstudio/" class="uri">https://rstudio.com/products/rstudio/</a>. You will need the desktop version.</p>
<p><strong>You need to download both R and RStudio.</strong></p>
<p>If you need help installing R and RStudio on you laptop computer, contact <a href="mailto:orakel@ntnu.no" class="email">orakel@ntnu.no</a>.</p>
<div id="using-rstudio---what-are-the-different-windows" class="section level3">
<h3>Using RStudio - what are the different windows?</h3>
<p>Start RStudio. Then you (probably) have the following four windows.</p>
<p><img src="RStudio_layout.png" /></p>
<ul>
<li><strong>Source</strong> (aka script window) - upper left window: where you write your code and keep track of your work.</li>
<li><strong>Console</strong> - lower left window: where the R commands are executed (so here is where you R installation lives). Sometimes also referred to as command window.<br />
</li>
<li><strong>Environment/History/Connections/Presentation</strong> - upper right window: the objects that you have in your workspace, and the commands you have executed, and more.<br />
</li>
<li><strong>Files/Plots/Packages/Help/Viewer</strong>- lower right: overview of your files, the plots you produce, the packages you have installed and loaded, and more.</li>
</ul>
</div>
<div id="using-rstudio-more-information" class="section level3">
<h3>Using RStudio more information</h3>
<p><strong>Script window</strong>: (Make the source window active.) To start writing a script press File- New File- R Script. To open an existing file, press File- Open File- and select the file you want to open. The file will open in the source window. To save this file, press File- Save as- and save the file as “name”.R (example: <code>myRintro.R</code>). Files with R code usually have extension <code>.R</code>.</p>
<p><span style="color:blue"> Open a new script and save it. </span></p>
<p><strong>Console window</strong>: (Make the console window active.) To see your working directory (the folder where files will input and save out to), you can write <code>getwd()</code>, and you will get your location as output. You can also set your working directory to a certain folder of choise by writing <code>setwd(&quot;location&quot;)</code> (Example: <code>setwd(&quot;M:/Documents/ST2304/&quot;)</code>). Now you are certain that all your files will be put in this folder.</p>
<p><span style="color:blue"> Type the following into the console window one line at a time. </span></p>
<p><span style="color:blue"> Press enter after each line. </span></p>
<p><span style="color:blue"> What happened? </span></p>
<pre class="r"><code>getwd()
2 + 2
x &lt;- 2 + 2
2 + 2</code></pre>
<p>You might have noticed that the line with <code>2+</code> caused R to begin the next line with a <code>+</code> instead of <code>&gt;</code> <strong>This is important.</strong> When R is ready for a new line of code, it begins with a &gt;. If R is still working on a line, for example if the line is incomplete like <code>2+</code>, then it begins with a <code>+</code>. It will not complete until the line is finished e.g. by typing <code>2</code> to complete the sum.</p>
<p><span style="color:blue"> Now type the same lines of code into the script window. </span></p>
<p><span style="color:blue"> Try running from there. </span></p>
<p><span style="color:blue"> You can run the current line by using cmd+enter (Mac) or ctrl+enter (Windows) or the Run button on the top right. </span></p>
<p><span style="color:blue"> To run several lines, highlight them, then use the same keys. </span></p>
<p><span style="color:blue"> Save the script. </span></p>
<p><strong>Quitting</strong>: It is always important to be able to quit a program: when you are finished you may choose RStudio-Quit Rstudio (top menu outside of the windows). You will be asked if you want to save your script and workspave. If you want to reuse your script later (and of cause you want to do that!), you should save it! If you answer yes to “Save workspace image” all the objects you have created are found in a <code>.RData</code> file (more about objects soon). This could be useful if you don’t want to run all the commands in the script again, because if you start R in the same working directory all the objects you have created will be automatically availble to you. But it is not always helpful. We recommend to <strong>not</strong> “Save workspace image”.</p>
<p><span style="color:blue"> Quit RStudio and re-open. </span></p>
<p>You can download the <strong>RStudio IDE cheat sheet</strong> for more information: <a href="https://github.com/rstudio/cheatsheets/raw/master/rstudio-ide.pdf" class="uri">https://github.com/rstudio/cheatsheets/raw/master/rstudio-ide.pdf</a></p>
<p>More on objects and commands next.</p>
<p><span style="color:blue"> <strong>PAUSE HERE</strong>. </span></p>
</div>
</div>
<div id="part-b-trying-out-r-commands" class="section level1">
<h1>Part B: Trying out R-commands</h1>
<p>To execute your commands, you can either type directly in the console or run the commands from the source window. But here we want you to use a script.</p>
<p><span style="color:blue"> Type and execute (run) the following commands. Add a comment after each one to remind yourself what it does. </span></p>
<pre class="r"><code>2 + 3
2 * 6
5^2
10^2 - 1
10^(2 - 1)
sqrt(9)
`?`(log)
log(3)
exp(34)
1:4
c(1, 2, 3, 4)
seq(from = 1, to = 4, by = 1)
mean(1:5)
heights = c(192, 185, 174, 195, 173)
shoes = c(46, 43, 40, 45, 40)
ratio &lt;- heights/shoes
ratio</code></pre>
<p>Here we have created three <strong>objects</strong>: <code>heights</code>, <code>shoes</code> and <code>ratio</code>. <strong>Note</strong>: we can both use <code>=</code> and <code>&lt;-</code> for <strong>assigning</strong> content to an <strong>object</strong>.</p>
<p>Notice now that the <strong>objects</strong> you <strong>assigned</strong> values to (<code>heights, shows, ratio</code>) appear in the Enviroment window to the right (sorted as Data, Values or Functions, but you should only have Values so far).</p>
<p>You have also used some <strong>functions</strong>. For examples the <strong>function</strong> <code>c</code> combines values into a vector (concatenate).</p>
<p><span style="color:blue"> Save your script and <strong>PAUSE HERE</strong>. </span></p>
</div>
<div id="part-c-using-objects-and-functions-in-r" class="section level1">
<h1>Part C: Using objects and functions in R</h1>
<div id="objects" class="section level3">
<h3>Objects</h3>
<p><span style="color:blue"> Have a go at creating an object called <code>x</code>, which has the value of 10. </span></p>
<p><span style="color:blue"> Create an object <code>y</code>, which has a value of 5. </span></p>
<p><span style="color:blue"> Create an object <code>z</code>, which is the sum of <code>x</code> and <code>y</code>. </span></p>
<p><span style="color:blue"> Now change <code>x</code> to have a value of 20. </span></p>
<p><span style="color:blue"> What is the value of <code>z</code>? </span> <strong>You can find this by simply typing z into the console and pressing enter.</strong></p>
<p>You should see that <code>z</code> is still 15. This is because the object <code>z</code> was created before you changed the object <code>x</code>. To update <code>z</code>, you would need to sum <code>x</code> and <code>y</code> again, after <code>x</code> has been changed.</p>
</div>
<div id="functions" class="section level3">
<h3>Functions</h3>
<p>Functions are something we use a lot in R. They make calculations easier and faster to reuse. There are many functions that already exist in R, which were written by other users. We can also write our own, but we will get to this a bit later.</p>
<p>We will begin with using functions that already exist in R.</p>
<p><span style="color:blue"> Run the lines of code below. Add some more comments to tell yourself what each does. </span></p>
<p><span style="color:blue"> <strong>Bonus</strong> Read the error for line 3 and work out why it appears. </span></p>
<pre class="r"><code>sd  #lists the function code
`?`(sd  #help pages for the function
)
sd()  #gives error
sd(c(1, 2, 3, 4, 5, 6, 7, 8, 9, 10))  #calculate the standard deviation of numbers 1 to 10
# This last line actually uses two functions, sd() and c()</code></pre>
<p>When using functions, there are two ways we can input the arguments. The first is to write them <strong>in order</strong> separated by commas. The second is to <strong>name them</strong>. There are examples of each below. If writing in order, you will need to look at the Help file to remember the correct order for each function.</p>
<p>The example uses the <code>round()</code> function, this rounds a specified number to a certain number of digits.</p>
<p><span style="color:blue"> We want to round 33333.33333 (object <code>a</code>) to 2 decimal places. Which lines below give the correct answer? </span></p>
<p><span style="color:blue"> Why do some of them give the wrong answer? </span></p>
<pre class="r"><code>`?`(round  #help pages for the function
)
a &lt;- 33333.33333  # create object a
b &lt;- 2  # create object b
round(a, b)
round(x = a, digits = b)

round(b, a)
round(digits = b, x = a)</code></pre>
</div>
</div>
<div id="part-d-plotting" class="section level1">
<h1>Part D: Plotting</h1>
<p>Creating plots is very important for presenting results, it can also be fun to make a pretty visual output. We can plot our data in R.</p>
<p><span style="color:blue"> Create a basic plot using the code below. </span></p>
<pre class="r"><code>x &lt;- seq(-4, 4, length = 500)  # create an object called x
y &lt;- x^2 - 1  # create an object called y
`?`(plot  # look at the plot function in Help
)
plot(x, y, type = &quot;p&quot;, main = &quot;My plot&quot;, xlab = &quot;x&quot;, ylab = &quot;y&quot;)  # Plot the data</code></pre>
<p><span style="color:blue"> What do the arguments <code>type</code>, <code>main</code>, <code>xlab</code>, and <code>ylab</code> do?. </span></p>
<p>To draw the plot in the way you want, check the help pages of the plot function to see which input values you can change to make your plot look the way you want to.</p>
<p><span style="color:blue"> Try and change the colour and shape of the points. </span></p>
<p><span style="color:blue"> Try and plot a line instead of points. </span></p>
<p>The package (a collection of functions - more on this in Part F) <code>ggplot2</code> is a powerful tool for making nice plots. In this package, the function <code>qplot()</code> can be used to compute the basic graphics from the plot function - however it is better to use the grammar of graphics that is the core of the <code>ggplot2</code> package - the text book uses <code>qplot()</code> but we will use base R, <code>plot()</code>.</p>
<p>The list below shows some basic tools for plotting using both<code>plot()</code>and <code>qplot()</code> (from the <code>ggplot2</code> package).</p>
<table>
<colgroup>
<col width="45%" />
<col width="27%" />
<col width="27%" />
</colgroup>
<thead>
<tr class="header">
<th>Description</th>
<th>Base Graphics</th>
<th>ggplot2</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Plot y versus x using points</td>
<td>plot(x, y)</td>
<td>qplot(x, y)</td>
</tr>
<tr class="even">
<td>Plot y versus x using lines</td>
<td>plot(x, y, type = “l”)</td>
<td>qplot(x, y, geom = “line”)</td>
</tr>
<tr class="odd">
<td>Plot y versus x using both points and lines</td>
<td>plot(x, y, type = “b”)</td>
<td>qplot(x, y, geom = c(“point”, “line”))</td>
</tr>
<tr class="even">
<td>Boxplot of x</td>
<td>boxplot(x)</td>
<td>qplot(x, geom = “boxplot”)</td>
</tr>
<tr class="odd">
<td>Side-by-side boxplot of x and y</td>
<td>boxplot(x, y)</td>
<td>qplot(x, y, geom = “boxplot”)</td>
</tr>
<tr class="even">
<td>Histogram of x</td>
<td>hist(x)</td>
<td>qplot(x, geom = “histogram”)</td>
</tr>
</tbody>
</table>
</div>
<div id="part-e-writing-a-simple-function" class="section level1">
<h1>Part E: Writing a simple function</h1>
<p>When starting a function, you should start with the name of the function and state if the function takes input values, give these arguments name e.g. <code>x</code> and <code>y</code>.</p>
<p>Then you write the code you want the function to perform inside the branches <span class="math inline">\({}\)</span>. <strong>You must indicate what you want your function to output using the <code>return()</code> function</strong>.</p>
<p><span style="color:blue"> Have a look at the example function below. Can you work out what it does? </span></p>
<pre class="r"><code>myfunction &lt;- function(x, y) # myfunction is the name, x and y are the names of the inputs (arugments) function begins here
{
    p &lt;- x * y
    return(p)  # we want to output p
}  # function ends here</code></pre>
<p>To start using the function, you must first run it through the console so that it is in your enviroment (mark and run). Then you call the function name and give your inputs like this.</p>
<pre class="r"><code>a &lt;- 7
b &lt;- 333
p &lt;- myfunction(x = a, y = b)  # assign output to a variable p
p</code></pre>
<p><strong>Congratulations! You have written your first R function.</strong></p>
<p><span style="color:blue"> Now see if you can write another, this time to add 5 to any value. </span></p>
</div>
<div id="part-f-packages" class="section level1">
<h1>Part F: Packages</h1>
<p>As mentioned in Part D, packages are a collection of functions someone has written and published so that they can be used by others. Packages are one of the very useful things in R. There are many different packages for almost any use you can imagine. Some are already included in the default R session, like the package <code>stats</code> that includes many basic functions for doing statistics. A large number can be found on the most widely used service for R packages: CRAN. See the official page for the package here: <a href="https://cran.r-project.org/web/packages/ISLR/index.html" class="uri">https://cran.r-project.org/web/packages/ISLR/index.html</a>.</p>
<p>To use packages you must complete two steps. First you <strong>install</strong> the package. Then you can <strong>load</strong> it into your own R session to use.</p>
<p><strong>To install</strong> an R package from CRAN you go to the Packages tab in the bottom right RStudio window and see if the packages is already available on your computer (there will be a list). If you do not see the package in this list you will need to download and install it. Do this by either pressing Install on the top left corner of the Packages window, CRAN is already filled as “Install from” and then write your package name to install, and usefully you can check a box to “install dependencies” <strong>This is important to do</strong>. Then press “Install”.</p>
<p>Alternatively, in the script window you may write and run:</p>
<pre class="r"><code>install.packages(&quot;PACKAGE_NAME&quot;, dependencies = TRUE)
library(ISLR)  # to make the package available in the current session</code></pre>
<p><span style="color:blue"> Using one of the methods above, install the package called “praise”. </span></p>
<p><strong>Remember:</strong> PACKAGE_NAME must always be changed to the actual package you want!</p>
<p><strong>To load</strong>: Now the package is installed, you need to load it into our current session. Remember that whenever starting a new session, you need to reload the packages you want to use. This can be done in two ways. Either, find the package in your list of packages, in the Packages window, and check the box next to it. OR using the <code>library()</code> function. <strong>Note:</strong> the library function does not have &quot;&quot; around the package name.</p>
<pre class="r"><code>library(PACKAGE_NAME)  # to make the package available in the current session</code></pre>
<p><span style="color:blue"> Using one of the methods above, load the package called “praise” into your session. Then run the below. </span></p>
<pre class="r"><code>praise(&quot;${EXCLAMATION}! You have done this ${adverb}!&quot;)</code></pre>
</div>
<div id="part-g-importing-and-exporting" class="section level1">
<h1>Part G: Importing and exporting</h1>
<p>Most of the time in biological statistics, you have far too much data to type it all in by hand. Therefore, you often store it in as a file on our computer or on the internet and then import it into R.</p>
<div id="importing-data-from-your-computer" class="section level2">
<h2>Importing data from your computer</h2>
<p>The most common file type we will use in this course are <code>.csv</code> files. We will provide you with them and you will import and analyse them. The first is called <code>test_data.csv</code>. You import using the function <code>read.csv()</code>.</p>
<p><span style="color:blue"> Download `test_data.csv’ from <a href="https://www.math.ntnu.no/emner/ST2304/2020v/RIntro/" class="uri">https://www.math.ntnu.no/emner/ST2304/2020v/RIntro/</a>. </span></p>
<p><span style="color:blue"> <strong>Make sure you download and save as a <code>.csv</code> file.</strong> </span></p>
<p><span style="color:blue"> <strong>DO NOT open in excel or save as <code>.xls</code> or <code>.txt</code></strong> </span></p>
<p><span style="color:blue"> Now look at the R script below, what does each line of the script do? </span></p>
<pre class="r"><code>`?`(read.csv)
datafile &lt;- read.csv(file = &quot;test_data.csv&quot;, header = TRUE)
dim(datafile)
head(datafile)
tail(datafile)
datafile</code></pre>
</div>
<div id="importing-data-from-the-internet" class="section level2">
<h2>Importing data from the internet</h2>
<p>It is also possible to import a file directly from the internet, you can do this for <code>test_data.csv</code> because it is stored on the internet. To do this you use the whole url for the file instead of just the file name.</p>
<pre class="r"><code>datafile &lt;- read.csv(&quot;https://www.math.ntnu.no/emner/ST2304/2020v/RIntro/test_data.csv&quot;, header = TRUE)</code></pre>
<p><span style="color:blue"> Try and run the R code above. What does the argument <code>header=TRUE</code> do? </span></p>
<p>Reading and writing data into R may be a bit tricky if the format of the data is not defined exactly, we will try and stick to <code>.csv</code> in the beginning.</p>
</div>
<div id="executing-the-commands-in-an-r-file-with-source" class="section level2">
<h2>Executing the commands in an R-file with <code>source</code></h2>
<p>As well as data, you can also import other R scripts into our R session. This can be a useful way to load functions quickly. You use the function <code>source</code> to import the R script. <code>source</code> imports the script and runs all of the code within it. This will be a useful way for us to give you functions we write to use in R.</p>
<p><span style="color:blue"> Download the file <code>Test_script.R</code> from <a href="https://www.math.ntnu.no/emner/ST2304/2020v/RIntro/" class="uri">https://www.math.ntnu.no/emner/ST2304/2020v/RIntro/</a> and save in the same folder as your working directory. </span></p>
<p><strong>Remember</strong> you can check where that is using <code>getwd()</code>.</p>
<p>The script contains a function called <code>test_function()</code> it takes the argument <code>x</code>, which should be a single number.</p>
<p><span style="color:blue"> Run the code below to source the script and run <code>test_function()</code> see if you can work out what the function does. </span></p>
<pre class="r"><code>source(&quot;Test_script.R&quot;)
test_function(x = 5)</code></pre>
</div>
</div>
<div id="part-h-plotting-from-a-data-frame" class="section level1">
<h1>Part H: Plotting from a data frame</h1>
<p><strong>Make sure to complete Part G directly before this Part.</strong></p>
<p>Now you have imported some data from a file, you can now plot it using the same ideas from Part D. But this time, you will be using data store as something called a <strong>data frame</strong>. You can see that the data you imported is different to the <strong>objects</strong> you created before because it is stored under ‘Data’ in our Environment not ‘Values’.</p>
<p><span style="color:blue"> Just as you did in Part D. You want to create a plot of <code>x</code> versus <code>y</code>. </span> The first thing you need to do is find out the structure of your data, which part is <code>x</code> and which is <code>y</code>.</p>
<p><span style="color:blue"> Try out the following lines of code. What does each do? </span></p>
<pre class="r"><code>head(datafile)
str(datafile)
colnames(datafile)</code></pre>
<p>You should be able to see that the columns in our data frame are called <code>x</code> and <code>y</code>. <strong>Note:</strong> both are lower case. You can refer to these individual columns using the <code>$</code> symbol.</p>
<p><span style="color:blue"> Try out the following lines of code. Why does the second line fail? </span></p>
<pre class="r"><code>datafile$x
datafile$Y
plot(datafile$x, datafile$y, type = &quot;p&quot;, main = &quot;My plot&quot;, xlab = &quot;x&quot;, ylab = &quot;y&quot;)  # Plot the data</code></pre>
<p>For plotting there is actually another way you can plot columns within a data frame. <strong>You will need to be familiar with this technique for later classes!</strong> The second way is to use the argument <code>data</code>. With this argument you can specify where R should look for the column you put in the x and y position.</p>
<p><span style="color:blue"> Run the line below. You should get the same plot as before, but you don’t! Can you work out why not? </span></p>
<pre class="r"><code>plot(x, y, data = datafile, type = &quot;p&quot;, main = &quot;My plot&quot;, xlab = &quot;x&quot;, ylab = &quot;y&quot;)  # Plot the data</code></pre>
</div>



</div>
</div>

</div>

<script>

// add bootstrap table styles to pandoc tables
function bootstrapStylePandocTables() {
  $('tr.header').parent('thead').parent('table').addClass('table table-condensed');
}
$(document).ready(function () {
  bootstrapStylePandocTables();
});


</script>

<!-- tabsets -->

<script>
$(document).ready(function () {
  window.buildTabsets("TOC");
});

$(document).ready(function () {
  $('.tabset-dropdown > .nav-tabs > li').click(function () {
    $(this).parent().toggleClass('nav-tabs-open')
  });
});
</script>

<!-- code folding -->

<script>
$(document).ready(function ()  {

    // move toc-ignore selectors from section div to header
    $('div.section.toc-ignore')
        .removeClass('toc-ignore')
        .children('h1,h2,h3,h4,h5').addClass('toc-ignore');

    // establish options
    var options = {
      selectors: "",
      theme: "bootstrap3",
      context: '.toc-content',
      hashGenerator: function (text) {
        return text.replace(/[.\\/?&!#<>]/g, '').replace(/\s/g, '_').toLowerCase();
      },
      ignoreSelector: ".toc-ignore",
      scrollTo: 0
    };
    options.showAndHide = false;
    options.smoothScroll = false;

    // tocify
    var toc = $("#TOC").tocify(options).data("toc-tocify");
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
